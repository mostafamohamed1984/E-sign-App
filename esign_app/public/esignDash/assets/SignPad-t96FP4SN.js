import{n as nt,o as J,r as W,l as rt,j as T}from"./index-KGhxS471.js";import{M as ot}from"./index-BiBOpQiF.js";import{T as Q}from"./index-B2Sm1YUy.js";var Z={exports:{}},F={exports:{}},z,Y;function at(){if(Y)return z;Y=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return z=e,z}var N,X;function it(){if(X)return N;X=1;var e=at();function o(){}function n(){}return n.resetWarningCache=o,N=function(){function t(i,h,u,a,l,p){if(p!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}t.isRequired=t;function r(){return t}var s={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:r,element:t,elementType:t,instanceOf:r,node:t,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:o};return s.PropTypes=s,s},N}var $;function st(){return $||($=1,F.exports=it()()),F.exports}/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function M(e,o,n){this.x=e,this.y=o,this.time=n||new Date().getTime()}M.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1};M.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))};M.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time};function B(e,o,n,t){this.startPoint=e,this.control1=o,this.control2=n,this.endPoint=t}B.prototype.length=function(){for(var e=10,o=0,n=void 0,t=void 0,r=0;r<=e;r+=1){var s=r/e,i=this._point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),h=this._point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(r>0){var u=i-n,a=h-t;o+=Math.sqrt(u*u+a*a)}n=i,t=h}return o};B.prototype._point=function(e,o,n,t,r){return o*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*t*(1-e)*e*e+r*e*e*e};function ht(e,o,n){var t,r,s,i=null,h=0;n||(n={});var u=function(){h=n.leading===!1?0:Date.now(),i=null,s=e.apply(t,r),i||(t=r=null)};return function(){var a=Date.now();!h&&n.leading===!1&&(h=a);var l=o-(a-h);return t=this,r=arguments,l<=0||l>o?(i&&(clearTimeout(i),i=null),h=a,s=e.apply(t,r),i||(t=r=null)):!i&&n.trailing!==!1&&(i=setTimeout(u,l)),s}}function _(e,o){var n=this,t=o||{};this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle="throttle"in t?t.throttle:16,this.minDistance="minDistance"in t?t.minDistance:5,this.throttle?this._strokeMoveUpdate=ht(_.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=_.prototype._strokeUpdate,this.dotSize=t.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.onBegin=t.onBegin,this.onEnd=t.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(r){r.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(r))},this._handleMouseMove=function(r){n._mouseButtonDown&&n._strokeMoveUpdate(r)},this._handleMouseUp=function(r){r.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(r))},this._handleTouchStart=function(r){if(r.targetTouches.length===1){var s=r.changedTouches[0];n._strokeBegin(s)}},this._handleTouchMove=function(r){r.preventDefault();var s=r.targetTouches[0];n._strokeMoveUpdate(s)},this._handleTouchEnd=function(r){var s=r.target===n._canvas;s&&(r.preventDefault(),n._strokeEnd(r))},this.on()}_.prototype.clear=function(){var e=this._ctx,o=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,o.width,o.height),e.fillRect(0,0,o.width,o.height),this._data=[],this._reset(),this._isEmpty=!0};_.prototype.fromDataURL=function(e){var o=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=new Image,r=n.ratio||window.devicePixelRatio||1,s=n.width||this._canvas.width/r,i=n.height||this._canvas.height/r;this._reset(),t.src=e,t.onload=function(){o._ctx.drawImage(t,0,0,s,i)},this._isEmpty=!1};_.prototype.toDataURL=function(e){var o;switch(e){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return(o=this._canvas).toDataURL.apply(o,[e].concat(t))}};_.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};_.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};_.prototype.isEmpty=function(){return this._isEmpty};_.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),typeof this.onBegin=="function"&&this.onBegin(e)};_.prototype._strokeUpdate=function(e){var o=e.clientX,n=e.clientY,t=this._createPoint(o,n),r=this._data[this._data.length-1],s=r&&r[r.length-1],i=s&&t.distanceTo(s)<this.minDistance;if(!(s&&i)){var h=this._addPoint(t),u=h.curve,a=h.widths;u&&a&&this._drawCurve(u,a.start,a.end),this._data[this._data.length-1].push({x:t.x,y:t.y,time:t.time,color:this.penColor})}};_.prototype._strokeEnd=function(e){var o=this.points.length>2,n=this.points[0];if(!o&&n&&this._drawDot(n),n){var t=this._data[this._data.length-1],r=t[t.length-1];n.equals(r)||t.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(e)};_.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};_.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};_.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};_.prototype._createPoint=function(e,o,n){var t=this._canvas.getBoundingClientRect();return new M(e-t.left,o-t.top,n||new Date().getTime())};_.prototype._addPoint=function(e){var o=this.points,n=void 0;if(o.push(e),o.length>2){o.length===3&&o.unshift(o[0]),n=this._calculateCurveControlPoints(o[0],o[1],o[2]);var t=n.c2;n=this._calculateCurveControlPoints(o[1],o[2],o[3]);var r=n.c1,s=new B(o[1],t,r,o[2]),i=this._calculateCurveWidths(s);return o.shift(),{curve:s,widths:i}}return{}};_.prototype._calculateCurveControlPoints=function(e,o,n){var t=e.x-o.x,r=e.y-o.y,s=o.x-n.x,i=o.y-n.y,h={x:(e.x+o.x)/2,y:(e.y+o.y)/2},u={x:(o.x+n.x)/2,y:(o.y+n.y)/2},a=Math.sqrt(t*t+r*r),l=Math.sqrt(s*s+i*i),p=h.x-u.x,f=h.y-u.y,x=l/(a+l),m={x:u.x+p*x,y:u.y+f*x},g=o.x-m.x,w=o.y-m.y;return{c1:new M(h.x+g,h.y+w),c2:new M(u.x+g,u.y+w)}};_.prototype._calculateCurveWidths=function(e){var o=e.startPoint,n=e.endPoint,t={start:null,end:null},r=this.velocityFilterWeight*n.velocityFrom(o)+(1-this.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(r);return t.start=this._lastWidth,t.end=s,this._lastVelocity=r,this._lastWidth=s,t};_.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)};_.prototype._drawPoint=function(e,o,n){var t=this._ctx;t.moveTo(e,o),t.arc(e,o,n,0,2*Math.PI,!1),this._isEmpty=!1};_.prototype._drawCurve=function(e,o,n){var t=this._ctx,r=n-o,s=Math.floor(e.length());t.beginPath();for(var i=0;i<s;i+=1){var h=i/s,u=h*h,a=u*h,l=1-h,p=l*l,f=p*l,x=f*e.startPoint.x;x+=3*p*h*e.control1.x,x+=3*l*u*e.control2.x,x+=a*e.endPoint.x;var m=f*e.startPoint.y;m+=3*p*h*e.control1.y,m+=3*l*u*e.control2.y,m+=a*e.endPoint.y;var g=o+a*r;this._drawPoint(x,m,g)}t.closePath(),t.fill()};_.prototype._drawDot=function(e){var o=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;o.beginPath(),this._drawPoint(e.x,e.y,n),o.closePath(),o.fill()};_.prototype._fromData=function(e,o,n){for(var t=0;t<e.length;t+=1){var r=e[t];if(r.length>1)for(var s=0;s<r.length;s+=1){var i=r[s],h=new M(i.x,i.y,i.time),u=i.color;if(s===0)this.penColor=u,this._reset(),this._addPoint(h);else if(s!==r.length-1){var a=this._addPoint(h),l=a.curve,p=a.widths;l&&p&&o(l,p,u)}}else{this._reset();var f=r[0];n(f)}}};_.prototype._toSVG=function(){var e=this,o=this._data,n=this._canvas,t=Math.max(window.devicePixelRatio||1,1),r=0,s=0,i=n.width/t,h=n.height/t,u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttributeNS(null,"width",n.width),u.setAttributeNS(null,"height",n.height),this._fromData(o,function(d,b,S){var E=document.createElement("path");if(!isNaN(d.control1.x)&&!isNaN(d.control1.y)&&!isNaN(d.control2.x)&&!isNaN(d.control2.y)){var U="M "+d.startPoint.x.toFixed(3)+","+d.startPoint.y.toFixed(3)+" "+("C "+d.control1.x.toFixed(3)+","+d.control1.y.toFixed(3)+" ")+(d.control2.x.toFixed(3)+","+d.control2.y.toFixed(3)+" ")+(d.endPoint.x.toFixed(3)+","+d.endPoint.y.toFixed(3));E.setAttribute("d",U),E.setAttribute("stroke-width",(b.end*2.25).toFixed(3)),E.setAttribute("stroke",S),E.setAttribute("fill","none"),E.setAttribute("stroke-linecap","round"),u.appendChild(E)}},function(d){var b=document.createElement("circle"),S=typeof e.dotSize=="function"?e.dotSize():e.dotSize;b.setAttribute("r",S),b.setAttribute("cx",d.x),b.setAttribute("cy",d.y),b.setAttribute("fill",d.color),u.appendChild(b)});var a="data:image/svg+xml;base64,",l='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+r+" "+s+" "+i+" "+h+'"')+(' width="'+i+'"')+(' height="'+h+'"')+">",p=u.innerHTML;if(p===void 0){var f=document.createElement("dummy"),x=u.childNodes;f.innerHTML="";for(var m=0;m<x.length;m+=1)f.appendChild(x[m].cloneNode(!0));p=f.innerHTML}var g="</svg>",w=l+p+g;return a+btoa(w)};_.prototype.fromData=function(e){var o=this;this.clear(),this._fromData(e,function(n,t){return o._drawCurve(n,t.start,t.end)},function(n){return o._drawDot(n)}),this._data=e};_.prototype.toData=function(){return this._data};const ct=Object.freeze(Object.defineProperty({__proto__:null,default:_},Symbol.toStringTag,{value:"Module"})),lt=nt(ct);var A={exports:{}},G;function ut(){return G||(G=1,function(e,o){(function(n,t){e.exports=t()})(J,function(){return function(n){function t(s){if(r[s])return r[s].exports;var i=r[s]={exports:{},id:s,loaded:!1};return n[s].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=n,t.c=r,t.p="",t(0)}([function(n,t){function r(a){var l=a.getContext("2d"),p=a.width,f=a.height,x=l.getImageData(0,0,p,f).data,m=h(!0,p,f,x),g=h(!1,p,f,x),w=u(!0,p,f,x),d=u(!1,p,f,x),b=d-w+1,S=g-m+1,E=l.getImageData(w,m,b,S);return a.width=b,a.height=S,l.clearRect(0,0,b,S),l.putImageData(E,0,0),a}function s(a,l,p,f){return{red:f[4*(p*l+a)],green:f[4*(p*l+a)+1],blue:f[4*(p*l+a)+2],alpha:f[4*(p*l+a)+3]}}function i(a,l,p,f){return s(a,l,p,f).alpha}function h(a,l,p,f){for(var x=a?1:-1,m=a?0:p-1,g=m;a?g<p:g>-1;g+=x)for(var w=0;w<l;w++)if(i(w,g,l,f))return g;return null}function u(a,l,p,f){for(var x=a?1:-1,m=a?0:l-1,g=m;a?g<l:g>-1;g+=x)for(var w=0;w<p;w++)if(i(g,w,l,f))return g;return null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}])})}(A)),A.exports}(function(e,o){(function(n,t){e.exports=t(st(),W,lt,ut())})(J,function(n,t,r,s){return function(i){function h(a){if(u[a])return u[a].exports;var l=u[a]={exports:{},id:a,loaded:!1};return i[a].call(l.exports,l,l.exports,h),l.loaded=!0,l.exports}var u={};return h.m=i,h.c=u,h.p="",h(0)}([function(i,h,u){function a(y){return y&&y.__esModule?y:{default:y}}function l(y,v){var C={};for(var P in y)v.indexOf(P)>=0||Object.prototype.hasOwnProperty.call(y,P)&&(C[P]=y[P]);return C}function p(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}function f(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?y:v}function x(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(y,v):y.__proto__=v)}Object.defineProperty(h,"__esModule",{value:!0});var m=Object.assign||function(y){for(var v=1;v<arguments.length;v++){var C=arguments[v];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(y[P]=C[P])}return y},g=function(){function y(v,C){for(var P=0;P<C.length;P++){var c=C[P];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}return function(v,C,P){return C&&y(v.prototype,C),P&&y(v,P),v}}(),w=u(1),d=a(w),b=u(2),S=a(b),E=u(3),U=a(E),tt=u(4),et=a(tt),L=function(y){function v(){var C,P,c,q;p(this,v);for(var I=arguments.length,V=Array(I),k=0;k<I;k++)V[k]=arguments[k];return P=c=f(this,(C=v.__proto__||Object.getPrototypeOf(v)).call.apply(C,[this].concat(V))),c._sigPad=null,c._excludeOurProps=function(){var D=c.props,R=(D.canvasProps,D.clearOnResize,l(D,["canvasProps","clearOnResize"]));return R},c.getCanvas=function(){return c._canvas},c.getTrimmedCanvas=function(){var D=document.createElement("canvas");return D.width=c._canvas.width,D.height=c._canvas.height,D.getContext("2d").drawImage(c._canvas,0,0),(0,et.default)(D)},c.getSignaturePad=function(){return c._sigPad},c._checkClearOnResize=function(){c.props.clearOnResize&&c._resizeCanvas()},c._resizeCanvas=function(){var D=c.props.canvasProps||{},R=D.width,H=D.height;if(!R||!H){var O=c._canvas,j=Math.max(window.devicePixelRatio||1,1);R||(O.width=O.offsetWidth*j),H||(O.height=O.offsetHeight*j),O.getContext("2d").scale(j,j),c.clear()}},c.on=function(){return window.addEventListener("resize",c._checkClearOnResize),c._sigPad.on()},c.off=function(){return window.removeEventListener("resize",c._checkClearOnResize),c._sigPad.off()},c.clear=function(){return c._sigPad.clear()},c.isEmpty=function(){return c._sigPad.isEmpty()},c.fromDataURL=function(D,R){return c._sigPad.fromDataURL(D,R)},c.toDataURL=function(D,R){return c._sigPad.toDataURL(D,R)},c.fromData=function(D){return c._sigPad.fromData(D)},c.toData=function(){return c._sigPad.toData()},q=P,f(c,q)}return x(v,y),g(v,[{key:"componentDidMount",value:function(){this._sigPad=new U.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var C=this,P=this.props.canvasProps;return S.default.createElement("canvas",m({ref:function(c){C._canvas=c}},P))}}]),v}(b.Component);L.propTypes={velocityFilterWeight:d.default.number,minWidth:d.default.number,maxWidth:d.default.number,minDistance:d.default.number,dotSize:d.default.oneOfType([d.default.number,d.default.func]),penColor:d.default.string,throttle:d.default.number,onEnd:d.default.func,onBegin:d.default.func,canvasProps:d.default.object,clearOnResize:d.default.bool},L.defaultProps={clearOnResize:!0},h.default=L},function(i,h){i.exports=n},function(i,h){i.exports=t},function(i,h){i.exports=r},function(i,h){i.exports=s}])})})(Z);var dt=Z.exports;const pt=rt(dt),{TabPane:K}=Q,gt=({onSave:e,onUpload:o})=>{const n=W.useRef(null),[t,r]=W.useState(!1),[s,i]=W.useState(null),h=()=>{if(n.current){const m=n.current.toDataURL();e(m),u(),r(!1)}},u=()=>{n.current&&n.current.clear()},a=m=>{var w;const g=(w=m.target.files)==null?void 0:w[0];if(g){const d=new FileReader;d.onloadend=()=>{const b=d.result;i(b),o(b)},d.readAsDataURL(g)}x()},l=m=>{m.preventDefault()},p=m=>{var w;m.preventDefault();const g=(w=m.dataTransfer.files)==null?void 0:w[0];if(g){const d=new FileReader;d.onloadend=()=>{const b=d.result;i(b),o(b)},d.readAsDataURL(g)}x()},f=()=>{r(!0)},x=()=>{r(!1)};return T.jsxs(T.Fragment,{children:[T.jsx("div",{children:T.jsx("button",{className:"bg-[#283C42] text-white px-4 py-2 rounded border-2 border-transparent hover:border-[#283C42] hover:bg-white hover:text-[#283C42] transition-colors duration-300",onClick:f,children:"Add Signature"})}),T.jsx(ot,{title:"Draw Your Signature",open:t,onCancel:x,footer:[,],children:T.jsxs(Q,{defaultActiveKey:"1",children:[T.jsxs(K,{tab:"Draw Signature",children:[T.jsx(pt,{ref:n,penColor:"black",canvasProps:{width:470,height:250,className:"sigCanvas"}}),T.jsx("button",{className:"bg-[#283C42] text-white px-4 py-2 rounded border-2 border-transparent hover:border-[#283C42] hover:bg-white hover:text-[#283C42] transition-colors duration-300",onClick:u,children:"Clear Signature"},"clear"),T.jsx("button",{className:"ml-2 bg-[#283C42] text-white px-4 py-2 rounded border-2 border-transparent hover:border-[#283C42] hover:bg-white hover:text-[#283C42] transition-colors duration-300",onClick:h,children:"Save Signature"},"save")]},"1"),T.jsx(K,{tab:"Upload Signature",children:T.jsx("div",{className:"w-full h-80 border-2 border-dashed border-gray-300 flex items-center justify-center text-gray-400 hover:bg-gray-100 hover:text-gray-600 hover:border-gray-400 rounded-lg",onDragOver:l,onDrop:p,children:T.jsxs("label",{className:"cursor-pointer",children:[T.jsx("input",{type:"file",accept:".png, .jpg, .jpeg",className:"hidden",onChange:a}),"Drag & Drop or Click to Upload"]})})},"2")]})})]})};export{gt as S};
